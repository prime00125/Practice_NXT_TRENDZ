{"ast":null,"code":"var _jsxFileName = \"/home/nxtwave/nxttrendz/src/components/PrimeDealsSection/index.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nimport Cookies from 'js-cookie';\nimport Loader from 'react-loader-spinner';\nimport ProductCard from '../ProductCard';\nimport './index.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst apiStatusConstants = {\n  initial: 'INITIAL',\n  success: 'SUCCESS',\n  failure: 'FAILURE',\n  inProgress: 'IN_PROGRESS'\n};\nconst PrimeDealsSection = () => {\n  _s();\n  const [apiDetails, setApiDetails] = useState({\n    apiStatus: apiStatusConstants.initial,\n    responseData: null,\n    errorMsg: null\n  });\n  useEffect(() => {\n    const getPrimeDeals = async () => {\n      // Before the fetch operation, set API status to inProgress\n      setApiDetails({\n        apiStatus: apiStatusConstants.inProgress,\n        responseData: null,\n        errorMsg: null\n      });\n      const jwtToken = Cookies.get('jwt_token');\n      const apiUrl = 'https://apis.ccbp.in/prime-deals';\n      const options = {\n        headers: {\n          Authorization: `Bearer ${jwtToken}`\n        },\n        method: 'GET'\n      };\n      const response = await fetch(apiUrl, options);\n      const fetchedData = await response.json();\n      if (response.ok) {\n        const formattedData = fetchedData.prime_deals.map(product => ({\n          title: product.title,\n          brand: product.brand,\n          price: product.price,\n          id: product.id,\n          imageUrl: product.image_url,\n          rating: product.rating\n        }));\n        // Set API status to success and store the formatted data\n        setApiDetails(prevApiDetails => ({\n          ...prevApiDetails,\n          apiStatus: apiStatusConstants.success,\n          responseData: formattedData\n        }));\n      } else {\n        // If response is not successful, set API status to failure and store the error message\n        setApiDetails(prevApiDetails => ({\n          ...prevApiDetails,\n          apiStatus: apiStatusConstants.failure,\n          errorMsg: fetchedData.error_msg\n        }));\n      }\n    };\n\n    // Call the async function inside useEffect\n    getPrimeDeals();\n  }, []);\n  const renderPrimeDealsListView = () => {\n    const {\n      responseData\n    } = apiDetails;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"primedeals-list-heading\",\n        children: \"Exclusive Prime Deals\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"products-list\",\n        children: responseData.map(product => /*#__PURE__*/_jsxDEV(ProductCard, {\n          productData: product\n        }, product.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this);\n  };\n  const renderPrimeDealsFailureView = () => /*#__PURE__*/_jsxDEV(\"img\", {\n    src: \"https://assets.ccbp.in/frontend/react-js/exclusive-deals-banner-img.png\",\n    alt: \"register prime\",\n    className: \"register-prime-img\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 87,\n    columnNumber: 5\n  }, this);\n  const renderLoadingView = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"primedeals-loader-container\",\n    children: /*#__PURE__*/_jsxDEV(Loader, {\n      type: \"ThreeDots\",\n      color: \"#0b69ff\",\n      height: \"50\",\n      width: \"50\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 95,\n    columnNumber: 5\n  }, this);\n  const renderPrimeDeals = () => {\n    const {\n      apiStatus\n    } = apiDetails;\n    switch (apiStatus) {\n      case apiStatusConstants.success:\n        return renderPrimeDealsListView();\n      case apiStatusConstants.failure:\n        return renderPrimeDealsFailureView();\n      case apiStatusConstants.inProgress:\n        return renderLoadingView();\n      default:\n        return null;\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: renderPrimeDeals()\n  }, void 0, false);\n};\n_s(PrimeDealsSection, \"XzBiEbT7V/2xbhEpqoDhAwQ0/ok=\");\n_c = PrimeDealsSection;\nexport default PrimeDealsSection;\nvar _c;\n$RefreshReg$(_c, \"PrimeDealsSection\");","map":{"version":3,"names":["useState","useEffect","Cookies","Loader","ProductCard","jsxDEV","_jsxDEV","Fragment","_Fragment","apiStatusConstants","initial","success","failure","inProgress","PrimeDealsSection","_s","apiDetails","setApiDetails","apiStatus","responseData","errorMsg","getPrimeDeals","jwtToken","get","apiUrl","options","headers","Authorization","method","response","fetch","fetchedData","json","ok","formattedData","prime_deals","map","product","title","brand","price","id","imageUrl","image_url","rating","prevApiDetails","error_msg","renderPrimeDealsListView","children","className","fileName","_jsxFileName","lineNumber","columnNumber","productData","renderPrimeDealsFailureView","src","alt","renderLoadingView","type","color","height","width","renderPrimeDeals","_c","$RefreshReg$"],"sources":["/home/nxtwave/nxttrendz/src/components/PrimeDealsSection/index.js"],"sourcesContent":["import {useState, useEffect} from 'react'\nimport Cookies from 'js-cookie'\nimport Loader from 'react-loader-spinner'\n\nimport ProductCard from '../ProductCard'\n\nimport './index.css'\n\nconst apiStatusConstants = {\n  initial: 'INITIAL',\n  success: 'SUCCESS',\n  failure: 'FAILURE',\n  inProgress: 'IN_PROGRESS',\n}\n\nconst PrimeDealsSection = () => {\n  const [apiDetails, setApiDetails] = useState({\n    apiStatus: apiStatusConstants.initial,\n    responseData: null,\n    errorMsg: null,\n  })\n\n  useEffect(() => {\n    const getPrimeDeals = async () => {\n      // Before the fetch operation, set API status to inProgress\n      setApiDetails({\n        apiStatus: apiStatusConstants.inProgress,\n        responseData: null,\n        errorMsg: null,\n      })\n      const jwtToken = Cookies.get('jwt_token')\n      const apiUrl = 'https://apis.ccbp.in/prime-deals'\n      const options = {\n        headers: {\n          Authorization: `Bearer ${jwtToken}`,\n        },\n        method: 'GET',\n      }\n\n      const response = await fetch(apiUrl, options)\n      const fetchedData = await response.json()\n      if (response.ok) {\n        const formattedData = fetchedData.prime_deals.map(product => ({\n          title: product.title,\n          brand: product.brand,\n          price: product.price,\n          id: product.id,\n          imageUrl: product.image_url,\n          rating: product.rating,\n        }))\n        // Set API status to success and store the formatted data\n        setApiDetails(prevApiDetails => ({\n          ...prevApiDetails,\n          apiStatus: apiStatusConstants.success,\n          responseData: formattedData,\n        }))\n      } else {\n        // If response is not successful, set API status to failure and store the error message\n        setApiDetails(prevApiDetails => ({\n          ...prevApiDetails,\n          apiStatus: apiStatusConstants.failure,\n          errorMsg: fetchedData.error_msg,\n        }))\n      }\n    }\n\n    // Call the async function inside useEffect\n    getPrimeDeals()\n  }, [])\n\n  const renderPrimeDealsListView = () => {\n    const {responseData} = apiDetails\n\n    return (\n      <div>\n        <h1 className=\"primedeals-list-heading\">Exclusive Prime Deals</h1>\n        <ul className=\"products-list\">\n          {responseData.map(product => (\n            <ProductCard productData={product} key={product.id} />\n          ))}\n        </ul>\n      </div>\n    )\n  }\n\n  const renderPrimeDealsFailureView = () => (\n    <img\n      src=\"https://assets.ccbp.in/frontend/react-js/exclusive-deals-banner-img.png\"\n      alt=\"register prime\"\n      className=\"register-prime-img\"\n    />\n  )\n\n  const renderLoadingView = () => (\n    <div className=\"primedeals-loader-container\">\n      <Loader type=\"ThreeDots\" color=\"#0b69ff\" height=\"50\" width=\"50\" />\n    </div>\n  )\n\n  const renderPrimeDeals = () => {\n    const {apiStatus} = apiDetails\n    switch (apiStatus) {\n      case apiStatusConstants.success:\n        return renderPrimeDealsListView()\n      case apiStatusConstants.failure:\n        return renderPrimeDealsFailureView()\n      case apiStatusConstants.inProgress:\n        return renderLoadingView()\n      default:\n        return null\n    }\n  }\n\n  return <>{renderPrimeDeals()}</>\n}\n\nexport default PrimeDealsSection\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}